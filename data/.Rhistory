current_group_with_index <- cbind(as.matrix(current_group), i)
# Add to the reshaped matrix
rows_to_add <- nrow(current_group_with_index)
reshaped_data_matrix[current_row:(current_row + rows_to_add - 1), ] <- current_group_with_index
current_row <- current_row + rows_to_add
}
main_folder <- "~/Documents/GitHub/BCCAch7/data/datacleaning/"
library(data.table)
main_folder <- "~/Documents/GitHub/BCCAch7/data/datacleaning/"
phys <- fread("PHYSICALTEAM_subflowmerge.xlsx")
main_folder <- "~/Documents/GitHub/BCCAch7/"
phys <- fread("PHYSICALTEAM_subflowmerge.xlsx")
library(data.table)
main_folder <- "~/Documents/GitHub/BCCAch7/data/datacleaning/"
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
graphics.off()
rm(list=ls())
graphics.off()
library(data.table)
main_folder <- "~/Documents/GitHub/BCCAch7/data/datacleaning/"
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
setwd("~/Documents/GitHub/BCCAch7/data/datacleaning")
#subflow look up and fix - Physical FLow
graphics.off()
rm(list=ls())
library(data.table)
setwd("~/Documents/GitHub/BCCAch7/data/datacleaning")
setwd("~//Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning")
setwd("~//Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning/")
setwd("~/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning/")
setwd("~/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning/")
setwd("~/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning/")
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data/data_cleaning/")
phys <- fread("PHYSICALTEAM_subflowmerge.csv")
graphics.off()
rm(list=ls())
library(data.table)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("/data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_new <- fread("/data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
head(phys_new)
graphics.off()
rm(list=ls())
library(data.table)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/newdocjan7.csv")
head(phys_old)
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
#subflow look up and fix - Physical FLow
graphics.off()
rm(list=ls())
library(data.table)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
head(phys_old)
head(phys_new)
head(phys_old)
phys_new$Flow1 <- docs$'2.1. What type of flow is it?'
phys_new$Flow1 <- phys_new$'2.1. What type of flow is it?'
phys_new[, Excluded == "No"]
phys_new[Excluded == "No", ]
phys_new = phys_new[Excluded == "No", ]
phys_new = phys_new[Excluded == "No", ]
table(phys_new$Excluded
table(phys_new$Excluded)
table(phys_new$Excluded)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
colnames(phys_new)
select(phys_new, "Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype")
select(phys_new, c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
temp <- select(phys_new, Citation, DOI)
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
select(df1, A, B, E)
phys_new  %>% select("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype")
phys_new  %>% select(Citation, DOI,)
phys_new  %>% select(Citation, DOI)
phys_new  %>% select(Citation, DOI)
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- read.csv("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
phys_new = phys_new[Excluded == "No", ]
phys_new  %>% select(Citation, DOI)
phys_new %>%
select(Citation, DOI)
subset(phys_new, select=c("Citation", "DOI"))
tmp = subset(phys_new, select=c("Citation", "DOI"))
head(tmp)
tmp = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
tmp1 = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- read.csv("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
head(phys_old)
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old)
head(phys_new)
head(phys_old)
phys_new = phys_new[Excluded == "No", ]
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
head(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new  %>% select("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype")
preview(phys_old)
head(phys_old)
colnames(phys_old)
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys_new$'2.1 Flow Type' <- phys_new$'2.1 Flow Type.NEW'
phys.fix = merge(phys_new, phys_old, by = "Citation" )
head(phys.fix)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new$'2.2 Subtype' <- phys_new$'2.2 Subtype.NEW'
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new$'2.2 Subtype' <- phys_new$'2.2 Subtype.NEW'
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix$2.2 Subtype.NEW <- phys.fix$2.2 Subtype.x.OLD
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x.OLD'
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
head(phys.fix)
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
phys.fix$'2.2 Subtype.x.OLD' <- phys.fix$'2.2 Subtype.y'
print(phys.fix, "physicalFlowSubtype_lookup.csv")
#subflow look up and fix - Physical FLow
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
phys.fix$'2.2 Subtype.x.OLD' <- phys.fix$'2.2 Subtype.y'
print(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
phys.fix$'2.2 Subtype.x.OLD' <- phys.fix$'2.2 Subtype.y'
print(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
print(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
phys_old = phys_old['2.1 Flow Type' == "Physical", ]
phys_new = phys_new'2.1 Flow Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old['2.1 Flow Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
phys.fix$'2.2 Subtype.x.OLD' <- phys.fix$'2.2 Subtype.y'
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
phys_old = phys_old['2.1 Flow Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
f1 %>% select(A, B, E)
phys_new = phys_new[Excluded == "No", ]
#subflow look up and fix - Physical FLow
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old['2.1 Flow Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix$'2.2 Subtype.NEW' <- phys.fix$'2.2 Subtype.x'
phys.fix$'2.2 Subtype.x.OLD' <- phys.fix$'2.2 Subtype.y'
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
#subflow look up and fix - Physical FLow
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old['2.1 Flow Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1 Flow Type",  "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
#df1 %>% select(A, B, E)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
colnames(phys_old)
colnames(phys_new)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
head(phys.fix)
phys.fix = merge(phys_new, phys_old, by =  "DOI")
head(phys.fix)
raphics.off()
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
phys_old
head(phys_new)
colnames(phys_old)
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
head(phys_old)
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
head(phys_old)
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
colnames(phys_old)
head(phys_old)
phys_old = phys_old[Excluded == "No", ]
head(phys_old)
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
phys_old = phys_old['2.1.Flow.Type' == "Physical", ]
head(phys_old)
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
phys_old = phys_old[2.1.Flow.Type == "Physical", ]
phys_old = phys_old[Physical == "TRUE", ]
head(phys_old)
phys_new = phys_new['2.1 Flow Type' == "Physical", ]
head(phys_new)
phys_new = phys_new[Physical == "TRUE", ]
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "2.2 Subtype"))
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
head(phys_new)
head(phys_old)
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
phys_new = phys_new[Excluded == "No", ]
head(phys_new)
table(Physical)
table(Physical)
table(phys_new$Physical)
phys_new = phys_new[Physical == "TRUE", ]
table(phys_new$Physical)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
table(phys_new$Physical)
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
phys_old <- fread("reshaped_4_drivers.csv")
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
head(phys_new)
head(phys_old)
colnames(phys_old)
phys_old = phys_old[Physical == "TRUE", ]
phys_new = phys_new[Physical == "TRUE", ]
table(phys_new$Physical)
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y= TRUE)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE)
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, allow.cartesian=TRUE)
head(phys.fix)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, allow.cartesian=TRUE)
head(phys.fix)
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "2.2 Subtype"))
head(phys_new)
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE)
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, all.x = TRUE, allow.cartesian = TRUE)
head(phys.fix)
phys_new$"2.2.Subtype" <- phys_new$"2.2 Subtype"
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, all.x = TRUE, allow.cartesian = TRUE)
head(phys.fix)
phys.fix$'2.2.Subtype.NEW' <- phys.fix$'2.2.Subtype.x'
phys.fix$'2.2.Subtype.OLD' <- phys.fix$'2.2.Subtype.y'
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup.csv")
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup2.csv")
phys.fix$'2.2.Subtype.NEW' <- phys.fix$'2.2.Subtype.x'
phys.fix$'2.2.Subtype.OLD' <- phys.fix$'2.2.Subtype.y'
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup2.csv")
phys_old = phys_old['2.1.Flow.Type' == "Physical"]
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
# the current reshaped master file with the older names:
phys_old <- fread("reshaped_4_drivers.csv")
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
head(phys_new)
head(phys_old)
colnames(phys_old)
phys_old = phys_old[Physical == "TRUE", ]
phys_old = phys_old['2.1.Flow.Type' == "Physical"]
phys_new = phys_new[Physical == "TRUE", ]
table(phys_new$Physical)
#df1 %>% select(A, B, E)
#phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "Task", "2.2 Subtype"))
phys_new = subset(phys_new, select=c("Citation", "DOI", "2.1 Flow Type", "2.2 Subtype"))
phys_new$"2.2.Subtype" <- phys_new$"2.2 Subtype"
phys_old = subset(phys_old, select=c("Citation", "DOI", "2.1.Flow.Type",  "2.2.Subtype"))
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, all.x = TRUE, allow.cartesian = TRUE)
head(phys.fix)
phys.fix$'2.2.Subtype.NEW' <- phys.fix$'2.2.Subtype.x'
phys.fix$'2.2.Subtype.OLD' <- phys.fix$'2.2.Subtype.y'
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup2.csv")
##
write.csv(phys.fix, "data_cleaning/physicalFlowSubtype_lookup3.csv")
phys_old = phys_old["2.1.Flow.Type" == "Physical"]
graphics.off()
rm(list=ls())
library(tidyr)
library(reshape2)
library(data.table)
library(readxl)
library(dplyr)
setwd("/Users/lade8828/Library/CloudStorage/OneDrive-UCB-O365/Documents/GitHub/BCCAch7/data")
phys_new <- fread("data_cleaning/PHYSICALTEAM_subflowmerge.csv")
# phys_old <- fread("data_cleaning/reshaped_v2_drivers_jan8.csv")
# the current reshaped master file with the older names:
phys_old <- fread("reshaped_4_drivers.csv")
phys_new = phys_new[Excluded == "No", ]
phys_old = phys_old[Excluded == "No", ]
head(phys_new)
head(phys_old)
colnames(phys_old)
phys_old = phys_old[Physical == "TRUE", ]
phys_old = phys_old["2.1.Flow.Type" == "Physical"]
phys_new = phys_new[Physical == "TRUE", ]
table(phys_new$Physical)
table(phys_old$Physical)
phys.fix = merge(phys_new, phys_old, by = c("Citation", "DOI"), all.y = TRUE, allow.cartesian = TRUE)
